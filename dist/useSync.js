var l=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var i=Object.prototype.hasOwnProperty;var x=(e,n)=>{for(var s in n)l(e,s,{get:n[s],enumerable:!0})},d=(e,n,s,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of h(n))!i.call(e,o)&&o!==s&&l(e,o,{get:()=>n[o],enumerable:!(c=a(n,o))||c.enumerable});return e};var m=e=>d(l({},"__esModule",{value:!0}),e);var R={};x(R,{default:()=>w,storage:()=>g,sync:()=>y,useSync:()=>p});module.exports=m(R);var u=require("react"),t={},p=(e,n)=>{let[,s]=(0,u.useReducer)(r=>!r,!1),c=(0,u.useRef)(n),o=(...r)=>{let[f]=r;r.length&&(c.current=f),s()};return(0,u.useEffect)(()=>(t[e]||(t[e]=[]),t[e].push(o),()=>{let r=t[e].findIndex(f=>f===o);t[e].splice(r,1),t[e].length===0&&delete t[e]}),[e]),c.current},y=(...e)=>{let[n,s]=e;if(!!t[n])for(let c of t[n])setTimeout(()=>e.length<2?c():c(s),0)},g={};var w=p;0&&(module.exports={storage,sync,useSync});
