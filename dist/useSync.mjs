import{useReducer as f,useEffect as l,useRef as p}from"react";var n={},a=(e,c)=>{let[,o]=f(t=>!t,!1),s=p(c),u=(...t)=>{let[r]=t;t.length&&(s.current=r),o()};return l(()=>(n[e]||(n[e]=[]),n[e].push(u),()=>{let t=n[e].findIndex(r=>r===u);n[e].splice(t,1),n[e].length===0&&delete n[e]}),[e]),s.current},i=(...e)=>{let[c,o]=e;if(!!n[c])for(let s of n[c])setTimeout(()=>e.length<2?s():s(o),0)},x={};var d=a;export{d as default,x as storage,i as sync,a as useSync};
